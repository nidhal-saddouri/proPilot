<main>
  
  
    <div class="container">
      <button style="margin-left: 40px; margin-top: 40px;" class="btn btn-primary">
        <i class="fas fa-arrow-left me-3"></i>
    </button>
      <section class="section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4" @fadeIn>
        
    
        
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-6 d-flex flex-column align-items-center justify-content-center">
  
              <!-- Logo -->
              <div class="d-flex justify-content-center py-4">
                <a href="" class="logo d-flex align-items-center w-auto">
                
                  <span class="d-none d-lg-block"><i class="fas fa-plus-circle me-3"></i><span class="custom-font">Add User</span></span>
                </a>
                
              </div>
              <p class="text-center small">Provide the user's personal information to create a new account</p>
              <!-- End Logo -->
  
              <div class="">
                <div class="card-body">
  
                  <!-- Header of the form -->
                  <div class="pt-4 pb-2">
                    
                  
                  </div>
  
                  <form [formGroup]="addUserForm" (ngSubmit)="addUser()" class="row g-3 needs-validation" novalidate>
                    <div class="col-12">
                      <label for="form2ExampleFirstName" class="form-label">FirstName</label>
                      <input type="text"  formControlName="firstName" class="form-control" id="form2ExampleFirstName"
                       [class.is-invalid]="addUserForm.get('firstName')?.invalid && addUserForm.get('firstName')?.touched" >
                      <div class="invalid-feedback">Please, enter your firstname!</div>
                      <div *ngIf="addUserForm.get('firstName')?.invalid && addUserForm.get('firstName')?.touched" class="invalid-feedback">
                        Prénom est requis.
                      </div>
                    </div>
  
                    <div class="col-12">
                      <label for="form2ExampleLastName" class="form-label">LastName</label>
                      <input type="text"  class="form-control" id="form2ExampleLastName"  formControlName="lastName"
                      [class.is-invalid]="addUserForm.get('lastName')?.invalid && addUserForm.get('lastName')?.touched"  >
                      <div class="invalid-feedback">Please, enter your lastname!</div>
                      <div *ngIf="addUserForm.get('lastName')?.invalid && addUserForm.get('lastName')?.touched" class="invalid-feedback">
                        LastName est requis.
                      </div>
                    </div>
  
  
                    <div class="col-12">
                        <label for="form2ExampleEmail" class="form-label">Email</label>
                        <div class="input-group has-validation">
                          <span class="input-group-text" id="inputGroupPrepend">&#64;</span>
  
                          <input type="email" class="form-control" formControlName="email" id="form2ExampleEmail"
                            [class.is-invalid]="addUserForm.get('email')?.invalid && addUserForm.get('email')?.touched">
                          <div *ngIf="addUserForm.get('email')?.invalid && addUserForm.get('email')?.touched" class="invalid-feedback">
                            <div *ngIf="addUserForm.get('email')?.errors?.['required']">Email est requis.</div>
                            <div *ngIf="addUserForm.get('email')?.errors?.['email']">Email invalide.</div>
                          </div>
                        </div>
                      </div>
  
                    <div class="col-12">
                      <label  for="form2ExamplePassword" class="form-label">Password</label>
                      <input [type]="showPassword ? 'text' : 'password'" id="form2ExamplePassword" formControlName="password" class="form-control" [class.is-invalid]="addUserForm.get('password')?.invalid && addUserForm.get('password')?.touched || addUserForm.hasError('passwordMismatch')" >
                      <div *ngIf="addUserForm.get('password')?.invalid && addUserForm.get('password')?.touched" class="invalid-feedback">
                        <div *ngIf="addUserForm.get('password')?.errors?.['required']">Mot de passe est requis.</div>
                        <div *ngIf="addUserForm.get('password')?.errors?.['minlength']">Mot de passe doit contenir au moins 8 caractères.</div>
                        <div *ngIf="addUserForm.get('password')?.errors?.['pattern']">Mot de passe doit contenir au moins un chiffre.</div>
                      </div>
                    </div>
                    <div class="col-12">
                      <label for="form2ExampleConfirmPassword" class="form-label">Confirm Your Password</label>
                      <input [type]="showConfirmPassword ? 'text' : 'password'" id="form2ExampleConfirmPassword" formControlName="confirmPassword"  class="form-control"
                      [class.is-invalid]="addUserForm.get('confirmPassword')?.invalid && addUserForm.get('confirmPassword')?.touched || addUserForm.hasError('passwordMismatch')" >
                      <div *ngIf="addUserForm.get('confirmPassword')?.invalid && addUserForm.get('confirmPassword')?.touched" class="invalid-feedback">
                        Confirmer le mot de passe est requis.
                      </div>
                      <div *ngIf="addUserForm.hasError('passwordMismatch')" class="invalid-feedback">
                        Les mots de passe ne correspondent pas.
                      </div>
                    </div>
                    <div class="col-12">
                      <label for="roleSelect" class="form-label">Choose Role</label>
                      <select id="roleSelect" class="form-control" formControlName="role"
                        [class.is-invalid]="addUserForm.get('role')?.invalid && addUserForm.get('role')?.touched">
                        <option value="" disabled selected>Select your role</option>
                        <option value="MANAGER">MANAGER</option>
                        <option value="EMPLOYEE">EMPLOYEE</option>
                      </select>
                      <div *ngIf="addUserForm.get('role')?.invalid && addUserForm.get('role')?.touched" class="invalid-feedback">
                        Veuillez sélectionner un rôle.
                      </div>
                    </div>
  
                   
                    <div class="col-12">
                      <button class="btn btn-primary w-100" type="submit">Add User</button>
                    </div>
                   
                  </form>
                  
                  <div *ngIf="successMessage" class="alert alert-success mt-3" role="alert">
                    {{ successMessage }}
                  </div>
                  <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
                    {{ errorMessage }}
                  </div>
  
  
  
        
                <!-- Form ends -->

            </div>
        </div>

      </div>
    </div>
  </div>

</section>
</div>

</main>